import{u as m,r as l,j as s,a as t,b as r,A as u}from"./index-335e13f3.js";import"http://localhost:5173/@react-refresh";const x=()=>{const i=m(),[n,d]=l.useState(""),[a,c]=l.useState("");return s("div",{className:"mt-[50px] ml-6",children:[t("div",{className:"text-[50px]",children:"Login"}),s("form",{onSubmit:o=>{o.preventDefault();const p={username:n,password:a};console.log(r.get("csrftoken")),fetch(`${u}/api/login/`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":r.get("csrftoken")},body:JSON.stringify(p)}).then(e=>e.json()).then(e=>{e.success?(r.set("csrftoken",e.csrftoken),r.set("token",e.token),i("/"),window.location.reload(!0)):console.log(e.error)}).catch(e=>{console.error("Error:",e)})},children:[s("div",{className:"mt-2",children:[t("label",{children:"Username:"}),t("input",{type:"text",value:n,onChange:o=>d(o.target.value),className:"border-[1px] border-solid border-gray-300 rounded-lg ml-4 mb-1"})]}),s("div",{children:[t("label",{children:"Password:"}),t("input",{type:"password",value:a,onChange:o=>c(o.target.value),className:"border-[1px] border-solid border-gray-300 rounded-lg ml-4 mb-1"})]}),t("button",{type:"submit",className:"border-[1px] border-solid rounded-full bg-[#87CEEB] px-5 py-1 text-white text-lg mt-2",children:"Login"})]})]})};export{x as default};
